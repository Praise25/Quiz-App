<% layout("layouts/boilerplate") %>

<div class="container my-auto">
  <div class="row">
    <div class="col border border-primary border-5">
      <div class="row">
        <div class="col text-center">
          <h2>Computer Quiz</h2>
        </div>
      </div>
      <div class="row">
        <div class="col text-center">
          <p id="question"><span id="serial-num"><%= quiz.serialNum %></span>. <%= quiz.question %></p>
        </div>
      </div>
      <div class="row">
        <% for (let ans of quiz.answers) { %>
          <% if (choice) {%>
          <div class="col-6 d-flex justify-content-center py-2">
            <button class="answer btn <%= ans === choice.answer ? "btn-dark" : "btn-primary" %>"><%= ans %></button>
          </div>
          <% } else { %>
          <div class="col-6 d-flex justify-content-center py-2">
            <button class="answer btn btn-primary %>"><%= ans %></button>
          </div>
          <% } %>
        <% } %>
      </div>
      <div class="row py-3 d-flex">
        <div class="col">
          <% if (!(prev === "empty")) {%>
          <a href="/quiz/<%= prev._id %>"><button class="btn btn-danger" id="prev-btn">Prev</button></a>
          <% } %>
        </div>
        <div class="col d-flex justify-content-center">
          <form action="/quiz/result" method="POST">
            <button class="btn btn-info">Submit</button>
          </form>
        </div>
        <div class="col d-flex justify-content-end">
          <% if (!(next === "empty")) {%>
          <a href="/quiz/<%= next._id %>"><button class="btn btn-success" id="next-btn">Next</button></a>
          <% } %>
        </div>
      </div>
    </div>
  </div>
  
  <div class="row">
    <div class="row">
      <% for (let i = 1; i < (numOfQuestions / 2) + 1; i++) {%>
      <div class="col p-1">
        <a href="/quiz/<%= quizzes[i - 1]._id %> ">
          <button class="btn btn-outline-secondary w-100 rounded-pill border border-dark q-btn"><%= i %></button>
        </a>
      </div>
      <% } %>
    </div>
    <div class="row">
      <% for (let i = 11; i < (numOfQuestions / 2) + 11; i++) {%>
      <div class="col p-1">
        <a href="/quiz/<%= quizzes[i - 1]._id %> ">
          <button class="btn btn-outline-secondary w-100 rounded-pill border border-dark q-btn"><%= i %></button>
        </a>
      </div>
      <% } %>
    </div>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"
  integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous">
</script>
<script src="https://cdn.jsdelivr.net/npm/axios/dist/axios.min.js"></script>
<script src="/scripts/show.js" type="module"></script>